
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Step‑by‑step lab to integrate an AI model to classify risk descriptions into Basel II taxonomy in OpenPages using Custom Machine Learning Models">
      
      
      
        <link rel="canonical" href="https://farhan-ra.github.io/Openpages-AI-Bootcamp/chapter2_intermediate/view_customisation/">
      
      
        <link rel="prev" href="../op_integration/">
      
      
        <link rel="next" href="../../chapter3_advanced/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Lab 1.3: Making the AI feature available in OpenPages - OpenPages AI Bootcamp</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-13-making-the-ai-feature-available-in-openpages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OpenPages AI Bootcamp" class="md-header__button md-logo" aria-label="OpenPages AI Bootcamp" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenPages AI Bootcamp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 1.3: Making the AI feature available in OpenPages
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OpenPages AI Bootcamp" class="md-nav__button md-logo" aria-label="OpenPages AI Bootcamp" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    OpenPages AI Bootcamp
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Chapter 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chapter1_prompt_basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Chapter 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wxai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating the model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../op_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integrate the model in OpenPages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Making the AI feature available in OpenPages
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Making the AI feature available in OpenPages
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-add-the-model-to-a-view" class="md-nav__link">
    <span class="md-ellipsis">
      1. Add the Model to a View
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-test-the-model-in-openpages" class="md-nav__link">
    <span class="md-ellipsis">
      2. Test the Model in OpenPages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-troubleshooting-tips-for-your-risk-taxonomy-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      3. Troubleshooting &amp; Tips (for Your Risk Taxonomy Use Case)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-example-json-prompt-response-for-your-taxonomy" class="md-nav__link">
    <span class="md-ellipsis">
      4. Example JSON Prompt / Response for Your Taxonomy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 3
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Chapter 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chapter3_advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chapter3_advanced/1_modify_op_object/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modifying an Object in OpenPages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chapter3_advanced/2_set_up_and_integrate_ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set-up and Integrate AI Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chapter3_advanced/3_bulk_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Execute AI in Bulk
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-add-the-model-to-a-view" class="md-nav__link">
    <span class="md-ellipsis">
      1. Add the Model to a View
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-test-the-model-in-openpages" class="md-nav__link">
    <span class="md-ellipsis">
      2. Test the Model in OpenPages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-troubleshooting-tips-for-your-risk-taxonomy-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      3. Troubleshooting &amp; Tips (for Your Risk Taxonomy Use Case)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-example-json-prompt-response-for-your-taxonomy" class="md-nav__link">
    <span class="md-ellipsis">
      4. Example JSON Prompt / Response for Your Taxonomy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="lab-13-making-the-ai-feature-available-in-openpages">Lab 1.3: Making the AI feature available in OpenPages</h1>
<hr />
<h2 id="1-add-the-model-to-a-view">1. Add the Model to a View</h2>
<ol>
<li>
<p>The AI model now must be integrated into the view of where we want to interact with it. We want this model on the <strong>Risk</strong> object so we must navigate to the relevant view. Go to any risk and then turn on debug info via the Administration Menu.<br />
<img alt="20_display_debug_info" src="../images/20_display_debug_info.png" /></p>
</li>
<li>
<p>The view will then appear beneath the risk heading. Navigate to the view to customize it by clicking on the view name. In the view designer for your object (e.g. Risk view), find the option to add the <strong>View AI insight</strong> button and drag it into the area on the view in which you want to be able to interact with it. For this use-case, we will add it to the Risk Categorisation area. 
<img alt="21_finding_view_ai_insights" src="../images/21_finding_view_ai_insights.png" /> </p>
</li>
<li>
<p>Add the relevant details to the button parameters to connect your model 
<img alt="22_ai_button_name_and_model" src="../images/22_ai_button_name_and_model.png" /></p>
</li>
<li>
<p>Save or <strong>Publish</strong> the view so the model is active in that view.
<img alt="23_ai_insight_added_to_view" src="../images/23_ai_insight_added_to_view.png" /></p>
</li>
</ol>
<hr />
<h2 id="2-test-the-model-in-openpages">2. Test the Model in OpenPages</h2>
<ol>
<li>
<p>Navigate to a Risk record in the view where the model is active. </p>
</li>
<li>
<p>Fill in the <strong>description</strong> (or whatever text triggers the model).  </p>
</li>
<li>
<p>A <strong>lightbulb / insight icon</strong> should appear indicating the model can run (or automatically run). :contentReference[oaicite:9]{index=9}  </p>
</li>
<li>
<p>Click on it and observe the <strong>side panel</strong> with model output suggestions (for Level 1 and Level 2).<br />
<img alt="24_classify_risk_added_to_view" src="../images/24_classify_risk_added_to_view.png" /> </p>
</li>
</ol>
<p><img alt="25_classify_risk_ai_insight" src="../images/25_classify_risk_ai_insight.png" /></p>
<ol>
<li>
<p>Validate whether the classifications match expectations.  </p>
</li>
<li>
<p>Test edge cases (no clear classification, ambiguous text) to ensure robustness.  </p>
</li>
</ol>
<hr />
<h2 id="3-troubleshooting-tips-for-your-risk-taxonomy-use-case">3. Troubleshooting &amp; Tips (for Your Risk Taxonomy Use Case)</h2>
<ul>
<li>Ensure the model prompt or API returns <strong>exact enum strings</strong> that match OpenPages enumerated values.  </li>
<li>The JSON must be <strong>clean, valid JSON</strong> (no extra text) so JSONata evaluation succeeds.  </li>
<li>If enum mismatches still occur, build a <strong>mapping / post‑processor</strong> between model output and OpenPages options.  </li>
<li>Use the <strong>minimum confidence threshold</strong> to suppress low-confidence results.  </li>
<li>Iteratively refine your prompt / model training to reduce misclassifications or “no insight found” cases.  </li>
<li>Use <strong>Debug Info</strong> display to view raw JSON and help in refining JSONata expressions or prompt logic.</li>
</ul>
<hr />
<h2 id="4-example-json-prompt-response-for-your-taxonomy">4. Example JSON Prompt / Response for Your Taxonomy</h2>
<p>Below is a skeleton prompt and expected response format (to help you align model output with JSONata):</p>
<p><strong>Prompt (to model):</strong></p>
<p>```text
You are a classifier. Given a description of a risk event, pick one Level 1 (primary) and one Level 2 (subcategory) from this taxonomy:</p>
<p>Level 1 options:
- Internal Fraud
- External Fraud
- Employment Practices and Workplace Safety
- Clients Products and Business Practices
- Damage to Physical Assets
- Business Disruption and System Failures
- Execution Delivery and Process Management</p>
<p>Level 2 options (examples per Level 1):
- Internal Fraud → Theft and Fraud, Unauthorized Activity<br />
- External Fraud → Systems Security, Theft and Fraud<br />
- Employment Practices and Workplace Safety → Employee Relations, Safe Environment, Diversity and Discrimination<br />
- Clients Products and Business Practices → Product Flaws, Selection Sponsorship and Exposure, Improper Business or Market Practices, Suitability, Disclosures or Fiduciary, Advisory Activities<br />
- Damage to Physical Assets → Wilful damage, Disaster and other events<br />
- Business Disruption and System Failures → Infrastructure and Systems<br />
- Execution Delivery and Process Management → Vendors and Suppliers, Trade Counterparties, Transaction Data Management, Customer Client Account Management, Reporting and Disclosure, Customer Intake and Documentation  </p>
<p>Return only valid JSON in this form (no extra text):</p>
<p>```json
{
  "level_1_classification": "Clients Products and Business Practices",
  "level_2_classification": "Product Flaws"
}</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>